<div class="jobApply-wrapper">
  <div class="jobApply-title">
    <h2>Apply for {{jobInfos?.title}}</h2>
    <span (click)="closeOverlay()">&times;</span>
  </div>
  <form class="jobApply-form" [formGroup]="applyForm" (ngSubmit)="submitForm()">
    <div fxLayout.lt-md="column wrap" fxLayout="row">
      <mat-form-field>
        <mat-label>First name</mat-label>
        <input matInput formControlName="firstName" placeholder="Michel">
        <mat-error *ngIf="applyForm.get('firstName').hasError('required')">
          First name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Last name</mat-label>
        <input matInput formControlName="lastName" placeholder="Rodrigue">
        <mat-error *ngIf="applyForm.get('lastName').hasError('required')">
          Last name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="Ex. mrodrigue@outlook.com">
        <mat-error *ngIf="applyForm.get('email').hasError('email') && !applyForm.get('email').hasError('required')">
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="applyForm.get('email').hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-label>Phone (optional)</mat-label>
        <input matInput formControlName="phone" placeholder="06 12 34 56 78" mask="00 00 00 00 00">
        <mat-error *ngIf="applyForm.get('phone').hasError('required')">
          Phone is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="jobAdId">
      <input type="hidden" formControlName="id_ad" value="{{jobInfos?.id}}" />
    </div>
    <mat-error *ngIf="applyError">
      There was an error. Please try again.
    </mat-error>
    <div class="button-wrapper">
      <button mat-flat-button [disabled]="applyForm.invalid" color="primary">Apply</button>
    </div>
  </form>
</div>
